---
layout: post
title: Networking and Networking
date: '2016-02-26T11:24:00.003-08:00'
author: King Lan
tags: 
modified_time: '2016-02-26T11:24:42.740-08:00'
thumbnail: https://4.bp.blogspot.com/-bQn0luDm3TU/VtCie0xU6aI/AAAAAAAAAUE/NbsvHS8nU1w/s72-c/20160226_151119000_iOS.jpg
blogger_id: tag:blogger.com,1999:blog-3689011111251379014.post-422653536281809253
blogger_orig_url: http://lanking-cyton.blogspot.com/2016/02/networking-and-networking.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><object width="320" height="266" class="BLOG_video_class" id="BLOG_video-73d12644554f7dce" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="movie" value="//www.youtube.com/get_player"><param name="bgcolor" value="#FFFFFF"><param name="allowfullscreen" value="true"><param name="flashvars" value="flvurl=http://redirector.googlevideo.com/videoplayback?id%3D73d12644554f7dce%26itag%3D5%26source%3Dblogger%26app%3Dblogger%26cmo%3Dsensitive_content%253Dyes%26ip%3D0.0.0.0%26ipbits%3D0%26expire%3D1470522159%26sparams%3Did,itag,source,ip,ipbits,expire%26signature%3D55664AC1F4D04DA2FC93D584422801975E9CB8B9.17193D2B2EE8699DF1F58620E4CB3352D146FE29%26key%3Dck2&amp;iurl=http://video.google.com/ThumbnailServer2?app%3Dblogger%26contentid%3D73d12644554f7dce%26offsetms%3D5000%26itag%3Dw160%26sigh%3DHI9uouW0-nDl56DKBzvpLP_zZyM&amp;autoplay=0&amp;ps=blogger"><embed src="//www.youtube.com/get_player" type="application/x-shockwave-flash" width="320" height="266" bgcolor="#FFFFFF" flashvars="flvurl=http://redirector.googlevideo.com/videoplayback?id%3D73d12644554f7dce%26itag%3D5%26source%3Dblogger%26app%3Dblogger%26cmo%3Dsensitive_content%253Dyes%26ip%3D0.0.0.0%26ipbits%3D0%26expire%3D1470522159%26sparams%3Did,itag,source,ip,ipbits,expire%26signature%3D55664AC1F4D04DA2FC93D584422801975E9CB8B9.17193D2B2EE8699DF1F58620E4CB3352D146FE29%26key%3Dck2&iurl=http://video.google.com/ThumbnailServer2?app%3Dblogger%26contentid%3D73d12644554f7dce%26offsetms%3D5000%26itag%3Dw160%26sigh%3DHI9uouW0-nDl56DKBzvpLP_zZyM&autoplay=0&ps=blogger" allowFullScreen="true" /></object></div><br />At the end of this week, I had started up a series of 'crazy' tests, including connection between China and UK, (Package losses are more than I expected). Also coming with some other issues.<div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-bQn0luDm3TU/VtCie0xU6aI/AAAAAAAAAUE/NbsvHS8nU1w/s1600/20160226_151119000_iOS.jpg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="320" src="https://4.bp.blogspot.com/-bQn0luDm3TU/VtCie0xU6aI/AAAAAAAAAUE/NbsvHS8nU1w/s320/20160226_151119000_iOS.jpg" width="240" /></a></div>&nbsp;<a href="https://1.bp.blogspot.com/-N6gtaT9COJE/VtCidxxozdI/AAAAAAAAAUA/vZHFEgBPG6c/s1600/20160226_154006711_iOS.jpg" imageanchor="1" style="clear: left; display: inline !important; margin-bottom: 1em; margin-right: 1em; text-align: center;"><img border="0" height="320" src="https://1.bp.blogspot.com/-N6gtaT9COJE/VtCidxxozdI/AAAAAAAAAUA/vZHFEgBPG6c/s320/20160226_154006711_iOS.jpg" width="240" /></a><br /><br />As you may see these two results above, when the connection established between China and UK, even through the VPN service provided from Liverpool, we still cannot stop the data losses and package delay. In 5 minutes, only 129 packages received and 5482 Package lost! Under this bad condition, the robotic arm merely moved... The issue was caused by TCP/IP connection. When we are trying to ping each other in the network, the time delay was 203ms in average and sometimes reach to 380ms which closed to the boundary of missing package (200ms Passing&nbsp;+ 200ms Receiving), the losses are around 20%. If using TCP/IP that was worse, considering the communication method, each packet that this protocol sent was through several command. My package will be divided into small packs and send individually, however, the client side will only obtain a package if only the package is completed. As the ping command will only do a number of packet (1 small pack), with 20% of losing rate and delay, the joystick command may have around 80%*3 = 24% succeed (the case my packet was divided into three small packet)rate. In reality, this is worse, only 2% of packet reach to its destination. It may have more delay, like the accumulation of the packet because the packet are sent continuously when the joystick have value. With more packet waiting there to send, the delay may increase. as delay increase, the labeled 'dead' packet increase, and this chain nearly killed all packet.<br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-b-EcW2XuRDQ/VtCkPjv39oI/AAAAAAAAAUU/b01UNO3ixuQ/s1600/2000px-TCP_CLOSE.svg.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="256" src="https://4.bp.blogspot.com/-b-EcW2XuRDQ/VtCkPjv39oI/AAAAAAAAAUU/b01UNO3ixuQ/s320/2000px-TCP_CLOSE.svg.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: left;">To solve this problem, the UDP is much more better, as gaming and video streaming are likely using this service. Less connection verification needed, lively sending all packet existed, auto flush the redundant and old packet. Although it may lose some information, but my joystick command is not a file transfer,isn't it? Will do this test after today.&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><br /></div>